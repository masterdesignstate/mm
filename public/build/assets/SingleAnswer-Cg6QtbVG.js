import{r as a,j as e,L as I,$ as R,S as _}from"./app-sYFYH_vL.js";import{A as O}from"./AuthenticatedLayout-DSXLWpUA.js";import{r as k,R as z}from"./web-DA0_iqaV.js";import{o as B}from"./CircleIcon-F64KhsfT.js";import{I as w}from"./InputError-cWHRWyH_.js";import{I as E}from"./InputLabel-C2ghPkEw.js";import{T as G}from"./TextInput-BhhCPZYC.js";import{C as y}from"./Checkbox-BR-Z6CCr.js";import{G as L}from"./GoBack-Cp4jTAQV.js";import"./ApplicationLogo-Bea2-6oh.js";import"./Dropdown-BayKwkQO.js";import"./transition-CEr4-m9R.js";import"./Grid-DCjwsiIX.js";import"./Footer-DDMVumaS.js";import"./index-XWEhR-HI.js";z.useDefaultSettings({host:"127.0.0.1"});function q({auth:W,question:l,errors:x,percentage:h=0}){const[i,b]=a.useState(null),[t,d]=a.useState(null),[r,n]=a.useState(!1),[N,f]=a.useState(!1),[o,m]=a.useState(!1),[j,v]=a.useState(l.meta.skip_self),[p,S]=a.useState(l.meta.skip_seeking),[u,A]=a.useState(5);k(l).color("green"),k("Skip Self "+j,"Skip Seeking "+p).color("orange"),a.useEffect(()=>{j&&n(!0),p&&n(!1)},[]);const g=()=>{let s=null;Array.isArray(t)?s={selfAnswer:i,seekAnswer:{answers:t,value:6,multiplier:u},isOkayWithAll:o}:s={selfAnswer:i,seekAnswer:{...t,multiplier:u},isOkayWithAll:o},console.log(t),_.post(route("question-single-answer",l.id),{question_id:l.id,answer:s}),n(!1),f(!1),m(!1),d(null),b(null),S(!1),v(!1)},C=s=>{s.target.checked?(m(s.target.checked),d(l.answers)):(m(s.target.checked),d(null))};return e.jsxs(O,{children:[e.jsx(I,{title:l.question}),e.jsx("div",{className:"container mx-auto my-8 px-8",children:e.jsx(L,{})}),e.jsxs("section",{className:"mx-auto max-w-5xl px-4 lg:-mt-8 lg:px-0",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-black text-bpurple-500",children:[!!l.is_mandatory&&e.jsx("span",{children:"Required Â "}),"Question"]}),!!l.is_mandatory&&e.jsxs("div",{children:[e.jsx("p",{children:"Please complete theses questions to view your potential matches."}),e.jsxs("div",{className:"mb-8 mt-2 w-full",children:[e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsx("h2",{children:"Completed"}),e.jsxs("h3",{children:[h," %"]})]}),e.jsx("div",{className:"h-4 w-[100%] rounded-full border border-gray-300",children:e.jsx("div",{style:{width:`${h}%`},className:"h-full rounded-full bg-gradient-to-r from-bpurple-500 to-bpurple-600"})})]})]}),e.jsxs("p",{className:"mt-4 flex items-center space-x-2 text-2xl",children:[e.jsx("span",{className:"flex size-6 items-center justify-center rounded-full border border-gray-500 text-sm",children:l.question_number?l.question_number:l.id}),e.jsx("span",{children:l.question})]}),e.jsx("p",{className:"mt-4 flex items-center justify-between space-x-2 text-sm",children:r?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Seeking Answer"}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx(y,{name:"isRequired",className:"size-6 checked:bg-bpurple-500 checked:focus:bg-bpurple-500",checked:N,onChange:s=>f(s.target.checked)}),e.jsx("span",{children:"Is Required ?"})]})]}):"Your Answer"}),e.jsx(w,{message:x.answer})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"relative space-y-4",children:[l.answers.length>0&&l.answers.map((s,c)=>e.jsxs("div",{children:[e.jsxs("div",{className:"group flex cursor-pointer items-center space-x-4",children:[e.jsx("span",{className:"flex size-4 items-center justify-center hover:font-bold group-hover:text-bpurple-500",children:e.jsx(B,{size:"24",variant:"solid",className:"hidden text-bpurple-500 group-hover:block"})}),e.jsx("div",{onClick:()=>r?d(s):b(s),className:"w-full rounded-full border px-4 py-2 transition-all duration-500 group-hover:bg-bpurple-500 group-hover:text-white"+(r?t===s||(t==null?void 0:t.length)>0?" bg-bpurple-500 text-white":"":i===s?" bg-bpurple-500 text-white":""),children:s.answer})]},c),l.answers.length===2&&c===0&&e.jsx("div",{className:"group flex cursor-pointer items-center space-x-4",children:e.jsx("div",{className:"w-full mt-4 ml-8",children:e.jsx("div",{className:"w-full rounded-full border px-4 py-2 transition-all duration-500 bg-bc-50 cursor-not-allowed ",children:"Optional"})})},c)]})),e.jsx("div",{className:"absolute left-0 top-0 ml-2 h-[80%] w-px -translate-x-1/2 bg-gray-800"})]}),r&&e.jsxs("div",{className:"mt-8 w-full",children:[e.jsx(E,{htmlFor:"multiplier",value:e.jsxs("span",{children:["Multiplier:",e.jsx("small",{className:"ml-2 text-sm text-gray-500",children:"Enter value between 1 to 10. Default is 5"})]})}),e.jsx(G,{id:"multiplier",type:"number",name:"multiplier",max:10,min:1,value:u,className:"mt-1 block w-full border-gray-100",isFocused:!0,onChange:s=>A(s.target.value)}),e.jsx(w,{message:x.multiplier,className:"mt-2"})]}),e.jsxs("div",{className:"my-8 flex items-center justify-between space-x-2",children:[e.jsxs("ul",{className:"group flex cursor-pointer items-center space-x-2",children:[e.jsx("li",{children:"Tags:"}),l.tags.length>0&&l.tags.map((s,c)=>e.jsx("li",{className:"rounded-full bg-bpurple-400 px-4 py-1 text-sm text-white",children:s},c))]}),r&&e.jsx("span",{className:"flex items-center space-x-2",children:e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx(y,{name:"isOkayWithAll",className:"size-6 checked:bg-bpurple-500 checked:focus:bg-bpurple-500",checked:o,onChange:s=>C(s)}),e.jsx("span",{children:"Is Okay with All ?"})]})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[l.is_mandatory?e.jsx("span",{}):e.jsx(R,{href:route("all-questions"),children:e.jsx("button",{className:"rounded-full border bg-white px-8 py-2",children:"Go Back"})}),r?e.jsxs("div",{className:"space-x-4",children:[e.jsx("button",{className:"rounded-full border bg-white px-8 py-2",onClick:()=>n(!1),children:"Go Back"}),e.jsx("button",{disabled:!(o||t),onClick:g,className:"rounded-full bg-bpurple-500 px-8 py-2 text-white disabled:cursor-not-allowed disabled:bg-gray-300 disabled:text-black",children:"Submit"})]}):p?e.jsx("button",{disabled:!i,onClick:g,className:"rounded-full bg-bpurple-500 px-8 py-2 text-white disabled:cursor-not-allowed disabled:bg-gray-300 disabled:text-black",children:"Submit"}):e.jsx("button",{disabled:!i,onClick:()=>n(!0),className:"rounded-full bg-bpurple-500 px-8 py-2 text-white disabled:cursor-not-allowed disabled:bg-gray-300 disabled:text-black",children:"Next"})]})]})]})]})}export{q as default};
